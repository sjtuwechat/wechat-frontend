{"version":3,"sources":["webpack:///./src/pages/index/main.js","webpack:///./src/pages/index/index.vue","webpack:///./src/pages/index/index.vue?eb24","webpack:///src/pages/index/index.vue","webpack:///./project.config.json","webpack:///./src/pages/index/index.vue?2879"],"names":["app","Vue","App","$mount"],"mappings":";;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAMA,MAAM,IAAIC,2CAAJ,CAAQC,uDAAR,CAAZ;AACAF,IAAIG,MAAJ,G;;;;;;;;ACJA;AAAA;AAAA;AACA;AACA;AACA,EAAE,mBAAO,CAAC,EAAwd;AACle;AACA,yBAAyB,mBAAO,CAAC,CAA8D;AAC/F;AAC2H;AAC3H;AACwU;AACxU;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,mIAAc;AAChB,EAAE,iRAAgB;AAClB;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,IAAI,KAAU,GAAG;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAEc,0EAAiB;;;;;;;;AC3ChC,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuFA;AACA;;AAEA;AACA,MADA,kBACA;AACA;AACA,wBADA;AAEA,cAFA;AAGA,wBAHA;AAIA,wBAJA;AAKA,kBALA;AAMA,mBANA;AAOA,gBAPA;AAQA,6BARA;AASA,sBATA;AAUA,uBAVA;AAWA,eAXA;AAYA,8BAZA;AAaA,iCAbA;AAcA,kBAdA;AAeA,kBAfA;AAgBA,yBAhBA;AAiBA,mBAjBA;AAkBA,uBAlBA;AAmBA,yBAnBA;AAoBA;AApBA;AAsBA,GAxBA;;;AA0BA;AACA;AADA,GA1BA;;AA8BA;AACA,eADA,yBACA;AACA;AACA;AACA,KAJA;AAKA,SALA,mBAKA;AAAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBA;AAkBA;AACA;AACA;AACA;AADA;AAGA;AACA,uBADA;AAEA,2BAFA;AAGA;AAHA;AAKA,SA9BA;AA+BA;AACA;AACA,uBADA;AAEA,2BAFA;AAGA;AAHA;AAKA,SArCA;AAsCA;AACA;AACA;AAxCA;AA0CA,KAjDA;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA;AAIA;AACA;AACA;AANA;AAQA;AACA,mEADA;AAEA;AACA,8BADA;AAEA;AAFA,aAFA;AAMA;AACA;AACA;AACA;AACA,aAVA;AAWA;AACA;AACA;AADA;AAGA;AAfA;AAiBA,SA3BA;AA4BA;AACA;AACA;AADA;AAGA;AAhCA;AAkCA,KAxFA;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,6BADA;AAEA;AAFA;AAIA,OAfA,MAeA;AACA;AACA;AADA;AAGA;AACA,0BADA;AAEA;AAFA;AAIA,OARA,MAQA;AACA;AACA;AADA;AAGA;AACA,KAvHA;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBANA,MAMA;AACA;AACA,uEADA;AAEA;AACA,oDADA;AAEA,wDAFA;AAGA;AAHA,qBAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CADA;AAEA;AAFA;AAIA;AACA,8CADA;AAEA;AAFA;AAIA;AACA;AACA;AACA,wCADA;AAEA;AAFA;AAIA,uBALA,MAKA;AACA;AACA,6EADA;AAEA;AACA,gDADA;AAEA,0DAFA;AAGA,8DAHA;AAIA,yCAJA;AAKA,sCALA;AAMA;AANA,2BAFA;AAUA;AACA;AACA;AACA;AACA;AACA,6CADA;AAEA;AAFA;AAIA,6BALA,MAKA;AACA;AACA,6CADA;AAEA;AAFA;AAIA;AACA;AAxBA;AA0BA;AACA;AAvDA;AAyDA;AACA;AAvEA;AAyEA,WA1EA,MA0EA;AACA;AACA;AADA;AAGA;AACA,SAjFA;AAkFA;AACA;AACA;AADA;AAGA;AAtFA;AAwFA,KAlNA;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA,MAKA;AACA;AACA,sDADA;AAEA;AACA,gCADA;AAEA,gCAFA;AAGA;AAHA,WAFA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WA9BA;AA+BA;AACA;AACA;AAjCA;AAmCA;AACA,KAlQA;AAmQA;AACA;AACA;AACA;AACA;AACA,uDADA;AAEA;AACA,gCADA;AAEA,wCAFA;AAGA,oBAHA;AAIA;AAJA,WAFA;AAQA;AACA;AACA;AACA;AACA,WAZA;AAaA;AACA;AACA;AAfA;AAiBA;AACA,KAzRA;AA0RA;AACA;AACA;AACA,KA7RA;AA8RA;AACA;AACA;AACA;AAjSA,GA9BA;;AAkUA,SAlUA,qBAkUA;AACA;AACA;AACA,GArUA;AAsUA,UAtUA,sBAsUA;AACA;AACA,GAxUA;AAyUA,QAzUA,oBAyUA;AACA;AACA;AACA;AACA;AACA;AACA,KAHA,MAGA;AACA;AACA;AACA;AAlVA,G;;;;;;;AC1FA,kBAAkB,mCAAmC,8EAA8E,wHAAwH,UAAU,uBAAuB,iBAAiB,uBAAuB,SAAS,wBAAwB,gBAAgB,yB;;;;;;;;ACArX,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,oCAAoC,aAAa,0BAA0B;AAC3E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC,cAAc,aAAa,0BAA0B;AACtD;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC,cAAc,aAAa,0BAA0B;AACtD;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC,cAAc,aAAa,0BAA0B;AACtD;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC;AACD;AACA,iBAAiB;AACF,kEAAS;AACxB,IAAI,KAAU;AACd;AACA;AACA;AACA;AACA,C","file":"static/js/pages/index/main.js","sourcesContent":["import Vue from 'vue'\nimport App from './index'\n\nconst app = new Vue(App)\napp.$mount()\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/main.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62291a4b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62291a4b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62291a4b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/pages/index/index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-62291a4b\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-62291a4b\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = 25\n// module chunks = 2","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/extract-text-webpack-plugin/dist/loader.js?{\"omit\":1,\"remove\":true}!./node_modules/vue-style-loader!./node_modules/css-loader?{\"minimize\":false,\"sourceMap\":false}!./node_modules/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-62291a4b\",\"scoped\":true,\"hasInlineConfig\":false}!./node_modules/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./node_modules/postcss-loader/lib?{\"sourceMap\":true}!./node_modules/mpvue-loader/lib/selector.js?type=styles&index=0!./src/pages/index/index.vue\n// module id = 26\n// module chunks = 2","<template>\n  <div>\n    <div class=\"tag-out\">\n      二维码\n      <div class=\"tag-inside\"></div>\n    </div>\n    <!--<div class=\"userinfo\" @click=\"bindViewTap\">-->\n      <!--<img class=\"userinfo-avatar\" v-if=\"userInfo.avatarUrl\" :src=\"userInfo.avatarUrl\" background-size=\"cover\" />-->\n      <!--<div class=\"userinfo-nickname\">-->\n        <!--<card :text=\"userInfo.nickName\"></card>-->\n      <!--</div>-->\n    <!--</div>-->\n\n    <!--<div class=\"usermotto\">-->\n      <!--<div class=\"user-motto\">-->\n        <!--<card :text=\"motto\"></card>-->\n      <!--</div>-->\n    <!--</div>-->\n\n    <div>\n      <button style=\"margin-left: 20px;margin-top: 5px\"@click=\"click\" type=\"default\" size=\"mini\">扫描二维码</button>\n      <div class=\"scanMessage-list\" style=\"margin: 10px\" v-if=\"show\">\n        <div class=\"weui-flex\">\n          <div class=\"weui-flex__item\"><div class=\"placeholder\">经度</div></div>\n          <div class=\"weui-flex__item\"><div class=\"placeholder\">维度</div></div>\n          <div class=\"weui-flex__item\"><div class=\"placeholder\">时间</div></div>\n        </div>\n        <div class=\"weui-flex\">\n          <div class=\"weui-flex__item\"><div class=\"placeholder\">{{lot}}</div></div>\n          <div class=\"weui-flex__item\"><div class=\"placeholder\">{{lat}}</div></div>\n          <div class=\"weui-flex__item\"><div class=\"placeholder\">{{timestamp}}</div></div>\n        </div>\n      </div>\n      <div>{{show}}</div>\n      <button style=\"margin-left: 20px;margin-top: 5px\" class=\"weui-btn mini-btn\" type=\"default\" size=\"mini\" @click=\"updateScanMessage()\">上传二维码信息</button>\n    </div>\n\n    <div class=\"split\"></div>\n\n    <div class=\"tag-out\">\n      信息\n      <div class=\"tag-inside\"></div>\n    </div>\n\n    <div style=\"margin-top: 10px;margin-left: 20px\">\n      <div class=\"picker_show\">\n        <picker @change=\"bindTimePickerChange\" :value=\"timeIndex\" :range=\"timeArray\" class=\"choose_button\">\n          <button type=\"default\" size=\"mini\">\n            选择信息时间段\n          </button>\n        </picker>\n        <div class=\"choose_show\"> 当前选择：{{timeArray[timeIndex]}}</div>\n      </div>\n\n      <div class=\"picker_show\">\n        <picker @change=\"bindCatePickerChange\" :value=\"cateIndex\" :range=\"cateArray\" class=\"choose_button\">\n          <button type=\"default\" size=\"mini\">\n            获取信息的类型\n          </button>\n        </picker>\n        <div class=\"choose_show\"> 当前选择：{{cateArray[cateIndex]}}</div>\n      </div>\n    </div>\n    <button class=\"weui-btn mini-btn\" style=\"margin-top: 5px;margin-left: 35%\" type=\"default\" size=\"mini\" @click=\"queryScanMessage()\">获取信息</button>\n\n    <div class=\"scanMessage-list\" style=\"margin: 5px;\">\n      <div class=\"weui-flex\">\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">id</div></div>\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">经度</div></div>\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">维度</div></div>\n      </div>\n      <div class=\"weui-flex\">\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">weui</div></div>\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">weui</div></div>\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">weui</div></div>\n        <div class=\"weui-flex__item\"><div class=\"placeholder\">weui</div></div>\n      </div>\n    </div>\n\n    <!--<button class=\"weui-btn mini-btn\" type=\"default\" size=\"mini\" @click=\"queryRdSession()\">获取登录信息</button>-->\n    <!--<button class=\"weui-btn mini-btn\" type=\"default\" size=\"mini\" v-if= \"scanMessage\" @click=\"updateScanMessage()\">上传扫描信息</button>-->\n    <!--<button class=\"weui-btn mini-btn\" type=\"default\" size=\"mini\" @click=\"secret()\">加解密按键</button>-->\n  </div>\n\n</template>\n\n<script>\n  import card from '@/components/card'\n  // import CryptoJS from 'crypto-js/crypto-js'\n\n  export default {\n    data () {\n      return {\n        scanMessage: false,\n        show: '',\n        hasLocation: false,\n        motto: 'Test-main',\n        userInfo: {},\n        rdSession: '',\n        errMsg: '',\n        timestamp: '2018-08-23',\n        lat: '31.030629',\n        lot: '121.449314',\n        appId: '',\n        timeArray: ['一个月', '一年'],\n        cateArray: ['典型信息', '全部信息'],\n        timeIndex: 0,\n        cateIndex: 0,\n        queryMessage: false,\n        qtCode: false,\n        qtCodeMessage: [],\n        qtCodeDeMessage: [],\n        decryptedData: ''\n      }\n    },\n\n    components: {\n      card\n    },\n\n    methods: {\n      bindViewTap () {\n        const url = '../logs/main'\n        wx.navigateTo({ url })\n      },\n      click () {\n        var that = this\n        wx.scanCode({\n          success: (res) => {\n            wx.getLocation({\n              success: (res) => {\n                console.log(res)\n                that.scanMessage = true\n                that.lat = res.latitude\n                that.lot = res.longitude\n                var timestamp = Date.parse(new Date())\n                var date = new Date(timestamp)\n                var year = date.getFullYear()\n                var month = date.getMonth() + 1\n                var day = date.getDate()\n                var hour = date.getHours()\n                var minute = date.getMinutes()\n                var second = date.getSeconds()\n                that.show = '经度：' + that.lat + '纬度：' + that.lot + '时间：' + year + month + day + hour + minute + second\n                that.timestamp = year + month + day + hour + minute + second\n              }\n            })\n            console.log(this.lat)\n            console.log(that.lat)\n            this.setData({\n              show: this.show\n            })\n            wx.showToast({\n              title: '成功',\n              icon: 'success',\n              duration: 2000\n            })\n          },\n          fail: (res) => {\n            wx.showToast({\n              title: '失败',\n              icon: 'success',\n              duration: 2000\n            })\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      queryRdSession: function () {\n        let that = this\n        var config = require('../../../project.config')\n        that.appId = config.appid\n        wx.login({\n          success: function (res) {\n            wx.getSetting({\n              success: (res) => {\n                console.log(res)\n              },\n              fail: () => {\n                console.log('setting fail')\n              }\n            })\n            wx.request({\n              url: 'http://127.0.0.1:8080/secret/frontcode/create/1?',\n              data: {\n                jsCode: res.code,\n                appId: that.appId\n              },\n              success: function (res) {\n                console.log(res)\n                let sessionDate = res.data\n                that.sessionStatus(sessionDate)\n              },\n              fail: function () {\n                wx.showModal({\n                  content: '发送会话请求失败'\n                })\n              }\n            })\n          },\n          fail: function () {\n            wx.showModal({\n              content: '登录失败,请重试'\n            })\n          }\n        })\n      },\n      sessionStatus: function (data) {\n        let that = this\n        if (data.status === 'error') {\n          let errorCode = data.error_detail.errcode\n          if (errorCode === 40029) {\n            that.errMsg = '登录凭证获取失败'\n          } else if (errorCode === 40013) {\n            that.errMsg = '小程序AppId无效'\n          } else if (errorCode === 40125) {\n            that.errMsg = '小程序AppSecret无效'\n          } else {\n            that.errMsg = '请求数据失败，请重试'\n          }\n          wx.showModal({\n            title: '获取会话密钥失败信息',\n            content: this.errMsg\n          })\n        } else if (data.status === 'success') {\n          wx.showModal({\n            title: '获取会话密钥成功'\n          })\n          wx.setStorage({\n            key: 'rdSession',\n            data: data.watermark.rdSession\n          })\n        } else {\n          wx.showModal({\n            title: '请求密钥失败'\n          })\n        }\n      },\n      updateScanMessage: function () {\n        let that = this\n        wx.getSetting({\n          success: (res) => {\n            if (res.authSetting['scope.userInfo']) {\n              wx.getUserInfo({\n                success: function (res) {\n                  console.log(res)\n                  that.userInfo = res\n                  let rdSession = wx.getStorageSync('rdSession')\n                  console.log('rdSession' + rdSession)\n                  if (rdSession.length === 0) {\n                    // wx.showModal({\n                    //   title: '用户授权信息',\n                    //   content: '未成功获取会话密钥'\n                    // })\n                    that.queryRdSession()\n                  } else {\n                    wx.request({\n                      url: 'http://127.0.0.1:8080/secret/frontcode/sign?',\n                      data: {\n                        rawData: that.userInfo.rawData,\n                        signature: that.userInfo.signature,\n                        rdSession: rdSession\n                      },\n                      success: function (res) {\n                        console.log(res.data)\n                        console.log('rdSession' + rdSession)\n                        console.log('rdSession_key:' + res.data.watermark.rdSession_key)\n                        console.log('rdSession_iv:' + res.data.watermark.rdSession_iv)\n                        if (res.data.watermark.rdSession === rdSession) {\n                          wx.setStorage({\n                            key: 'rdSession_iv',\n                            data: res.data.watermark.rdSession_iv\n                          })\n                          wx.setStorage({\n                            key: 'rdSession_key',\n                            data: res.data.watermark.rdSession_key\n                          })\n                        }\n                        if (that.lot.length === 0 || that.lat.length === 0 || that.timestamp.length === 0) {\n                          wx.showModal({\n                            title: '二维码信息',\n                            content: '二维码信息不完整，请重新扫描'\n                          })\n                        } else {\n                          wx.request({\n                            url: 'http://127.0.0.1:8080/secret/frontcode/scan?',\n                            data: {\n                              rdSession: rdSession,\n                              rawData: that.userInfo.rawData,\n                              signature: that.userInfo.signature,\n                              lng: that.lot,\n                              lat: '578',\n                              timestamp: that.timestamp\n                            },\n                            success: function (res) {\n                              console.log(res)\n                              console.log(res.data)\n                              if (res.data.status === 'successs') {\n                                wx.showModal({\n                                  title: '加密存储',\n                                  content: res.data.msg\n                                })\n                              } else {\n                                wx.showModal({\n                                  title: '加密存储',\n                                  content: res.data.msg\n                                })\n                              }\n                            }\n                          })\n                        }\n                      }\n                    })\n                  }\n                }\n              })\n            } else {\n              wx.showModal({\n                content: '获取用户信息失败，请打开授权'\n              })\n            }\n          },\n          fail: () => {\n            wx.showModal({\n              content: '获取授权信息失败'\n            })\n          }\n        })\n      },\n      queryScanMessage: function () {\n        let that = this\n        let rdSession = wx.getStorageSync('rdSession')\n        let key = wx.getStorageSync('rdSession_key')\n        let iv = wx.getStorageSync('rdSession_iv')\n        if (rdSession.length === 0 || key.length === 0 || iv.length === 0) {\n          // wx.showModal({\n          //   content: '会话密钥不存在'\n          // })\n          that.queryRdSession()\n        } else {\n          wx.request({\n            url: 'http://127.0.0.1:8080/api/scan/index?',\n            data: {\n              rdSession: rdSession,\n              time: that.timeIndex,\n              cate: that.cateIndex\n            },\n            success: function (res) {\n              // console.log(res.data.result)\n              if (res.data.status === 'success' && res.data.result.length > 0) {\n                that.qtCode = true\n                that.qtCodeMessage = res.data.result\n                that.qtCodeDeMessage = that.qtCodeMessage\n                console.log(that.qtCodeMessage)\n                for (let i = 0; i < that.qtCodeMessage.length; i++) {\n                  that.decode(that.qtCodeDeMessage[i].lng, rdSession, key, iv)\n                  console.log(that.decode(that.decryptedData))\n                  // that.qtCodeDeMessage[i].lng = 'test'\n                  // that.qtCodeDeMessage[i].lat = that.decode(that.qtCodeDeMessage[i].lat, rdSession, key, iv)\n                }\n                // for (let index in that.qtCodeMessage) {\n                //   that.qtCodeDeMessage[index].id = that.qtCodeDeMessage[index].id\n                //   that.qtCodeDeMessage[index].lng = that.decode(that.qtCodeDeMessage[index].lng, rdSession, key, iv)\n                //   that.qtCodeDeMessage[index].lat = that.decode(that.qtCodeDeMessage[index].lat, rdSession, key, iv)\n                // }\n              }\n              console.log(that.qtCodeDeMessage)\n              // console.log(res.data.result[0].lng)\n              // let result = that.decode(res.data.result[0].lng, rdSession, key, iv)\n              // console.log(result)\n            },\n            fail: function () {\n              console.log('fail')\n            }\n          })\n        }\n      },\n      decode: function (encryptedData, rdSession, key, iv) {\n        let that = this\n        let decryptedData = ''\n        if (encryptedData.length > 0) {\n          wx.request({\n            url: 'http://127.0.0.1:8080/api/scan/decode?',\n            data: {\n              rdSession: rdSession,\n              encryptedData: encryptedData,\n              key: key,\n              iv: iv\n            },\n            success: function (res) {\n              console.log(res.data.result)\n              that.decryptedData = res.data.result\n              return that.decryptedData\n            },\n            fail: function () {\n              // return false\n            }\n          })\n        }\n      },\n      bindTimePickerChange: function (e) {\n        let that = this\n        that.timeIndex = e.mp.detail.value\n      },\n      bindCatePickerChange: function (e) {\n        let that = this\n        that.cateIndex = e.mp.detail.value\n      }\n    },\n\n    created () {\n      // 调用应用实例的方法获取全局数据\n      // this.getUserInfo()\n    },\n    onLaunch () {\n      console.log('onLauch')\n    },\n    onLoad () {\n      let that = this\n      let rdSession = wx.getStorageSync('rdSession')\n      if (rdSession) {\n        // that.queryRdSession()\n        console.log('test')\n      } else {\n        that.queryRdSession()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .userinfo {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .userinfo-avatar {\n    width: 128rpx;\n    height: 128rpx;\n    margin: 20rpx;\n    border-radius: 50%;\n  }\n\n  .userinfo-nickname {\n    color: #aaa;\n  }\n\n  .usermotto {\n    margin-top: 150px;\n  }\n\n  .form-control {\n    display: block;\n    padding: 0 12px;\n    margin-bottom: 5px;\n    border: 1px solid #ccc;\n  }\n\n  .counter {\n    display: inline-block;\n    margin: 10px auto;\n    padding: 5px 10px;\n    color: blue;\n    border: 1px solid blue;\n  }\n\n  .picker_show {\n    display: flex;\n  }\n\n  .choose_button {\n    float: left;\n  }\n\n  .choose_show {\n    float: left;\n    margin-left: 3px;\n    font-size: 17px;\n  }\n\n  .placeholder{\n    margin: 5px;\n    padding: 0 10px;\n    text-align: center;\n    background-color: #EBEBEB;\n    height: 1.7em;\n    line-height: 1.7em;\n    color: dimgray;\n  }\n\n  .weui-flex {\n    font-size: 13px;\n    display: flex;\n  }\n\n  .weui-flex__item{\n    flex: 1;\n  }\n\n  .scanMessage-list {\n    border:3px dotted dodgerblue;\n    border-radius:5px;\n  }\n\n  .split {\n    background-color: #C7C7C7;\n    height: 2px;\n    width: 98%;\n  }\n\n  .tag-out {\n    margin-top: 5px;\n    width: 60px;\n    height: 30px;\n    background: lightgray;\n    position: relative;\n    font-size: 16px;\n  }\n  .tag-inside {\n    /*margin-left: 30px;*/\n    background-color: transparent;\n    content:\"test\";\n    position: absolute;\n    left: 100%;\n    top: 0px;\n    width: 70px;\n    /*height: 0;*/\n    border-top: 15px solid transparent;\n    border-left: 30px solid lightgray;\n    border-bottom: 15px solid transparent;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue?7ca19956","module.exports = {\"description\":\"项目配置文件。\",\"setting\":{\"urlCheck\":false,\"es6\":false,\"postcss\":true,\"minified\":true,\"newFeature\":true},\"miniprogramRoot\":\"./dist/\",\"compileType\":\"miniprogram\",\"appid\":\"wx6e1ee86184594b21\",\"projectname\":\"test\",\"condition\":{\"search\":{\"current\":-1,\"list\":[]},\"conversation\":{\"current\":-1,\"list\":[]},\"game\":{\"currentL\":-1,\"list\":[]},\"miniprogram\":{\"current\":-1,\"list\":[]}}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./project.config.json\n// module id = 31\n// module chunks = 2","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_vm._m(0), _vm._v(\" \"), _c('div', [_c('button', {\n    staticStyle: {\n      \"margin-left\": \"20px\",\n      \"margin-top\": \"5px\"\n    },\n    attrs: {\n      \"type\": \"default\",\n      \"size\": \"mini\",\n      \"eventid\": '0'\n    },\n    on: {\n      \"click\": _vm.click\n    }\n  }, [_vm._v(\"扫描二维码\")]), _vm._v(\" \"), (_vm.show) ? _c('div', {\n    staticClass: \"scanMessage-list\",\n    staticStyle: {\n      \"margin\": \"10px\"\n    }\n  }, [_vm._m(1), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex\"\n  }, [_c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(_vm._s(_vm.lot))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(_vm._s(_vm.lat))])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(_vm._s(_vm.timestamp))])])])]) : _vm._e(), _vm._v(\" \"), _c('div', [_vm._v(_vm._s(_vm.show))]), _vm._v(\" \"), _c('button', {\n    staticClass: \"weui-btn mini-btn\",\n    staticStyle: {\n      \"margin-left\": \"20px\",\n      \"margin-top\": \"5px\"\n    },\n    attrs: {\n      \"type\": \"default\",\n      \"size\": \"mini\",\n      \"eventid\": '1'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.updateScanMessage()\n      }\n    }\n  }, [_vm._v(\"上传二维码信息\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"split\"\n  }), _vm._v(\" \"), _vm._m(2), _vm._v(\" \"), _c('div', {\n    staticStyle: {\n      \"margin-top\": \"10px\",\n      \"margin-left\": \"20px\"\n    }\n  }, [_c('div', {\n    staticClass: \"picker_show\"\n  }, [_c('picker', {\n    staticClass: \"choose_button\",\n    attrs: {\n      \"value\": _vm.timeIndex,\n      \"range\": _vm.timeArray,\n      \"eventid\": '2'\n    },\n    on: {\n      \"change\": _vm.bindTimePickerChange\n    }\n  }, [_c('button', {\n    attrs: {\n      \"type\": \"default\",\n      \"size\": \"mini\"\n    }\n  }, [_vm._v(\"\\n          选择信息时间段\\n        \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"choose_show\"\n  }, [_vm._v(\" 当前选择：\" + _vm._s(_vm.timeArray[_vm.timeIndex]))])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"picker_show\"\n  }, [_c('picker', {\n    staticClass: \"choose_button\",\n    attrs: {\n      \"value\": _vm.cateIndex,\n      \"range\": _vm.cateArray,\n      \"eventid\": '3'\n    },\n    on: {\n      \"change\": _vm.bindCatePickerChange\n    }\n  }, [_c('button', {\n    attrs: {\n      \"type\": \"default\",\n      \"size\": \"mini\"\n    }\n  }, [_vm._v(\"\\n          获取信息的类型\\n        \")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"choose_show\"\n  }, [_vm._v(\" 当前选择：\" + _vm._s(_vm.cateArray[_vm.cateIndex]))])], 1)]), _vm._v(\" \"), _c('button', {\n    staticClass: \"weui-btn mini-btn\",\n    staticStyle: {\n      \"margin-top\": \"5px\",\n      \"margin-left\": \"35%\"\n    },\n    attrs: {\n      \"type\": \"default\",\n      \"size\": \"mini\",\n      \"eventid\": '4'\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.queryScanMessage()\n      }\n    }\n  }, [_vm._v(\"获取信息\")]), _vm._v(\" \"), _vm._m(3)], 1)\n}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"tag-out\"\n  }, [_vm._v(\"\\n    二维码\\n    \"), _c('div', {\n    staticClass: \"tag-inside\"\n  })])\n},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"weui-flex\"\n  }, [_c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"经度\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"维度\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"时间\")])])])\n},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"tag-out\"\n  }, [_vm._v(\"\\n    信息\\n    \"), _c('div', {\n    staticClass: \"tag-inside\"\n  })])\n},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"scanMessage-list\",\n    staticStyle: {\n      \"margin\": \"5px\"\n    }\n  }, [_c('div', {\n    staticClass: \"weui-flex\"\n  }, [_c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"id\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"经度\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"维度\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex\"\n  }, [_c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"weui\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"weui\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"weui\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"weui-flex__item\"\n  }, [_c('div', {\n    staticClass: \"placeholder\"\n  }, [_vm._v(\"weui\")])])])])\n}]\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-62291a4b\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-62291a4b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./node_modules/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = 32\n// module chunks = 2"],"sourceRoot":""}